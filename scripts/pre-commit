#!/bin/bash
# Pre-commit hook for AI Operations Dashboard
# Runs quality checks before allowing commit

echo "üîç Running pre-commit quality checks..."

# Run tests
echo "Running tests..."
python -m pytest tests/unit/ -x -q
if [ $? -ne 0 ]; then
    echo "‚ùå Tests failed. Commit aborted."
    exit 1
fi

# Run code quality checks
echo "Checking code quality..."
python technical_debt_analyzer.py > /dev/null
if [ $? -ne 0 ]; then
    echo "‚ö†Ô∏è Code quality check failed."
fi

# Run documentation check
echo "Checking documentation..."
python documentation_generator.py > /dev/null
if [ $? -ne 0 ]; then
    echo "‚ö†Ô∏è Documentation generation failed."
fi

echo "‚úÖ Pre-commit checks passed!"
exit 0
